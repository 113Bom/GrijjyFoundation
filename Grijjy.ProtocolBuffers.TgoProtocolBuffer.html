<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/1999/REC-html401-19991224/loose.dtd">
<html>
<head>
<title>Grijjy Foundation: Grijjy.ProtocolBuffers: Class TgoProtocolBuffer</title>
<meta name="generator" content="P2PasDoc 0.13.0">
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<link rel="StyleSheet" type="text/css" href="pasdoc.css">
</head>
<body>
<table class="container"><tr><td class="navigation">
<h2>Grijjy Foundation</h2><p><a href="AllUnits.html" class="navigation">Units</a></p><p><a href="ClassHierarchy.html" class="navigation">Class Hierarchy</a></p><p><a href="AllClasses.html" class="navigation">Classes, Interfaces, Objects and Records</a></p><p><a href="AllTypes.html" class="navigation">Types</a></p><p><a href="AllVariables.html" class="navigation">Variables</a></p><p><a href="AllConstants.html" class="navigation">Constants</a></p><p><a href="AllFunctions.html" class="navigation">Functions and Procedures</a></p><p><a href="AllIdentifiers.html" class="navigation">Identifiers</a></p></td><td class="content">
<a name="TgoProtocolBuffer"></a><h1 class="cio">Class TgoProtocolBuffer</h1>
<table class="sections wide_list">
<tr>
<td><a class="section" href="#PasDoc-Description">Description</a></td><td><a class="section" href="#PasDoc-Hierarchy">Hierarchy</a></td><td><a class="section" href="#PasDoc-InternalTypes">Internal Types</a></td><td>Fields</td><td><a class="section" href="#PasDoc-Methods">Methods</a></td><td>Properties</td></tr></table>
<a name="PasDoc-Description"></a><h2 class="unit">Unit</h2>
<p class="unitlink">
<a  href="Grijjy.ProtocolBuffers.html">Grijjy.ProtocolBuffers</a></p>
<h2 class="declaration">Declaration</h2>
<p class="declaration">
<code>type TgoProtocolBuffer = class(TObject)</code></p>
<h2 class="description">Description</h2>
<p>
Static class used for (de)serializing records in Protocol Buffer format</p>
<a name="PasDoc-Hierarchy"></a><h2 class="hierarchy">Hierarchy</h2>
<ul class="hierarchy"><li class="ancestor">TObject</li>
<li class="thisitem">TgoProtocolBuffer</li></ul><h2 class="overview">Overview</h2>
<a name="PasDoc-InternalTypes"></a><h3 class="summary">Internal Types</h3>
<table class="summary wide_list">
<tr class="list">
<td class="visibility"><a  href="legend.html"><img  src="published.gif" alt="Published" title="Published"></a></td>
<td class="itemcode"><code><b><a  href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#TDeserializeProc">TDeserializeProc</a></b> = procedure(const AReader: TReader; const ARecord: PByte; const ATag, AOffset: Integer; const AParam: TObject);</code></td>
</tr>
<tr class="list2">
<td class="visibility"><a  href="legend.html"><img  src="published.gif" alt="Published" title="Published"></a></td>
<td class="itemcode"><code><b><a  href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#TInitializeProc">TInitializeProc</a></b> = procedure(Self: Pointer);</code></td>
</tr>
<tr class="list">
<td class="visibility"><a  href="legend.html"><img  src="published.gif" alt="Published" title="Published"></a></td>
<td class="itemcode"><code><b><a  href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#TSerializeProc">TSerializeProc</a></b> = procedure(const AWriter: TWriter; const ARecord: PByte; const ATag, AOffset: Integer; const AParam: TObject);</code></td>
</tr>
</table>
<a name="PasDoc-Methods"></a><h3 class="summary">Methods</h3>
<table class="summary wide_list">
<tr class="list">
<td class="visibility"><a  href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><code>class function <b><a  href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#Serialize">Serialize</a></b>&lt;T: record&gt;(const ARecord: T): TBytes; overload; static; inline;</code></td>
</tr>
<tr class="list2">
<td class="visibility"><a  href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><code>class function <b><a  href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#Serialize">Serialize</a></b>(const ARecordType: Pointer; const ARecord): TBytes; overload; static;</code></td>
</tr>
<tr class="list">
<td class="visibility"><a  href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><code>class procedure <b><a  href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#Serialize">Serialize</a></b>&lt;T: record&gt;(const ARecord: T; const AFilename: String); overload; static; inline;</code></td>
</tr>
<tr class="list2">
<td class="visibility"><a  href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><code>class procedure <b><a  href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#Serialize">Serialize</a></b>(const ARecordType: Pointer; const ARecord; const AFilename: String); overload; static;</code></td>
</tr>
<tr class="list">
<td class="visibility"><a  href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><code>class procedure <b><a  href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#Serialize">Serialize</a></b>&lt;T: record&gt;(const ARecord: T; const AStream: TStream); overload; static; inline;</code></td>
</tr>
<tr class="list2">
<td class="visibility"><a  href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><code>class procedure <b><a  href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#Serialize">Serialize</a></b>(const ARecordType: Pointer; const ARecord; const AStream: TStream); overload; static;</code></td>
</tr>
<tr class="list">
<td class="visibility"><a  href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><code>class procedure <b><a  href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#Deserialize">Deserialize</a></b>&lt;T: record&gt;(out ARecord: T; const AData: TBytes); overload; static; inline;</code></td>
</tr>
<tr class="list2">
<td class="visibility"><a  href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><code>class procedure <b><a  href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#Deserialize">Deserialize</a></b>(const ARecordType: Pointer; out ARecord; const AData: TBytes); overload; static;</code></td>
</tr>
<tr class="list">
<td class="visibility"><a  href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><code>class procedure <b><a  href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#Deserialize">Deserialize</a></b>&lt;T: record&gt;(out ARecord: T; const ABuffer: Pointer; const ABufferSize: Integer); overload; static; inline;</code></td>
</tr>
<tr class="list2">
<td class="visibility"><a  href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><code>class procedure <b><a  href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#Deserialize">Deserialize</a></b>(const ARecordType: Pointer; out ARecord; const ABuffer: Pointer; const ABufferSize: Integer); overload; static;</code></td>
</tr>
<tr class="list">
<td class="visibility"><a  href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><code>class procedure <b><a  href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#Deserialize">Deserialize</a></b>&lt;T: record&gt;(out ARecord: T; const AFilename: String); overload; static; inline;</code></td>
</tr>
<tr class="list2">
<td class="visibility"><a  href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><code>class procedure <b><a  href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#Deserialize">Deserialize</a></b>(const ARecordType: Pointer; out ARecord; const AFilename: String); overload; static;</code></td>
</tr>
<tr class="list">
<td class="visibility"><a  href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><code>class procedure <b><a  href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#Deserialize">Deserialize</a></b>&lt;T: record&gt;(out ARecord: T; const AStream: TStream); overload; static; inline;</code></td>
</tr>
<tr class="list2">
<td class="visibility"><a  href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><code>class procedure <b><a  href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#Deserialize">Deserialize</a></b>(const ARecordType: Pointer; out ARecord; const AStream: TStream); overload; static;</code></td>
</tr>
<tr class="list">
<td class="visibility"><a  href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><code>class procedure <b><a  href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#Register">Register</a></b>(const ARecordType: Pointer; const ARecord; const AInitializeProc: <a  href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#TInitializeProc">TInitializeProc</a>; const AFields: array of const); static;</code></td>
</tr>
</table>
<h2 class="description">Description</h2>
<h3 class="detail">Internal Types</h3>
<table class="detail wide_list">
<tr class="list">
<td class="visibility"><a  href="legend.html"><img  src="published.gif" alt="Published" title="Published"></a></td>
<td class="itemcode"><a name="TDeserializeProc"></a><code><b>TDeserializeProc</b> = procedure(const AReader: TReader; const ARecord: PByte; const ATag, AOffset: Integer; const AParam: TObject);</code></td>
</tr>
<tr><td colspan="2">
&nbsp;</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="visibility"><a  href="legend.html"><img  src="published.gif" alt="Published" title="Published"></a></td>
<td class="itemcode"><a name="TInitializeProc"></a><code><b>TInitializeProc</b> = procedure(Self: Pointer);</code></td>
</tr>
<tr><td colspan="2">
&nbsp;</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="visibility"><a  href="legend.html"><img  src="published.gif" alt="Published" title="Published"></a></td>
<td class="itemcode"><a name="TSerializeProc"></a><code><b>TSerializeProc</b> = procedure(const AWriter: TWriter; const ARecord: PByte; const ATag, AOffset: Integer; const AParam: TObject);</code></td>
</tr>
<tr><td colspan="2">
&nbsp;</td></tr>
</table>
<h3 class="detail">Methods</h3>
<table class="detail wide_list">
<tr class="list">
<td class="visibility"><a  href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><a name="Serialize"></a><code>class function <b>Serialize</b>&lt;T: record&gt;(const ARecord: T): TBytes; overload; static; inline;</code></td>
</tr>
<tr><td colspan="2">
<p>
Serializes a record to an array of bytes.

<p> 

<p></p>
<h6 class="description_section">Parameters</h6>
<dl class="parameters">
<dt>T</dt>
<dd>the type of the record to <a class="normal" href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#Serialize">serialize</a>.</dd>
<dt>ARecord</dt>
<dd>the record (of type T) to <a class="normal" href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#Serialize">serialize</a>.</dd>
</dl>
<h6 class="description_section">Returns</h6>
<p class="return">A byte array containing the serialized record.</p></td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="visibility"><a  href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><a name="Serialize"></a><code>class function <b>Serialize</b>(const ARecordType: Pointer; const ARecord): TBytes; overload; static;</code></td>
</tr>
<tr><td colspan="2">
<p>
Serializes a record to an array of bytes.

<p> 

<p></p>
<h6 class="description_section">Parameters</h6>
<dl class="parameters">
<dt>ARecordType</dt>
<dd>the type of the record to <a class="normal" href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#Serialize">serialize</a>. This is the result from a TypeInfo(TMyRecord) call.</dd>
<dt>ARecord</dt>
<dd>the record (of ARecordType) to <a class="normal" href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#Serialize">serialize</a>.</dd>
</dl>
<h6 class="description_section">Returns</h6>
<p class="return">A byte array containing the serialized record.</p></td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="visibility"><a  href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><a name="Serialize"></a><code>class procedure <b>Serialize</b>&lt;T: record&gt;(const ARecord: T; const AFilename: String); overload; static; inline;</code></td>
</tr>
<tr><td colspan="2">
<p>
Serializes a record to a file.

<p>  </p>
<h6 class="description_section">Parameters</h6>
<dl class="parameters">
<dt>T</dt>
<dd>the type of the record to <a class="normal" href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#Serialize">serialize</a>.</dd>
<dt>ARecord</dt>
<dd>the record (of type T) to <a class="normal" href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#Serialize">serialize</a>.</dd>
<dt>AFilename</dt>
<dd>the name of the file to <a class="normal" href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#Serialize">serialize</a> the record to.</dd>
</dl>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="visibility"><a  href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><a name="Serialize"></a><code>class procedure <b>Serialize</b>(const ARecordType: Pointer; const ARecord; const AFilename: String); overload; static;</code></td>
</tr>
<tr><td colspan="2">
<p>
Serializes a record to a file.

<p>  </p>
<h6 class="description_section">Parameters</h6>
<dl class="parameters">
<dt>ARecordType</dt>
<dd>the type of the record to <a class="normal" href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#Serialize">serialize</a>. This is the result from a TypeInfo(TMyRecord) call.</dd>
<dt>ARecord</dt>
<dd>the record (of ARecordType) to <a class="normal" href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#Serialize">serialize</a>.</dd>
<dt>AFilename</dt>
<dd>the name of the file to <a class="normal" href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#Serialize">serialize</a> the record to.</dd>
</dl>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="visibility"><a  href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><a name="Serialize"></a><code>class procedure <b>Serialize</b>&lt;T: record&gt;(const ARecord: T; const AStream: TStream); overload; static; inline;</code></td>
</tr>
<tr><td colspan="2">
<p>
Serializes a record to a stream.

<p>  </p>
<h6 class="description_section">Parameters</h6>
<dl class="parameters">
<dt>T</dt>
<dd>the type of the record to <a class="normal" href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#Serialize">serialize</a>.</dd>
<dt>ARecord</dt>
<dd>the record (of type T) to <a class="normal" href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#Serialize">serialize</a>.</dd>
<dt>AStream</dt>
<dd>the stream to <a class="normal" href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#Serialize">serialize</a> the record to.</dd>
</dl>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="visibility"><a  href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><a name="Serialize"></a><code>class procedure <b>Serialize</b>(const ARecordType: Pointer; const ARecord; const AStream: TStream); overload; static;</code></td>
</tr>
<tr><td colspan="2">
<p>
Serializes a record to a stream.

<p>  </p>
<h6 class="description_section">Parameters</h6>
<dl class="parameters">
<dt>ARecordType</dt>
<dd>the type of the record to <code>serialize</code>. This is the result from a TypeInfo(TMyRecord) call.</dd>
<dt>ARecord</dt>
<dd>the record (of ARecordType) to <code>serialize</code>.</dd>
<dt>AStream</dt>
<dd>the stream to <code>serialize</code> the record to.</dd>
</dl>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="visibility"><a  href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><a name="Deserialize"></a><code>class procedure <b>Deserialize</b>&lt;T: record&gt;(out ARecord: T; const AData: TBytes); overload; static; inline;</code></td>
</tr>
<tr><td colspan="2">
<p>
Deserializes a record from an array of bytes. When the record contains a parameterless <code>Initialize</code> procedure, then that procedure will be called before the record is deserialized.

<p>  </p>
<h6 class="description_section">Parameters</h6>
<dl class="parameters">
<dt>T</dt>
<dd>the type of the record to <a class="normal" href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#Deserialize">deserialize</a>.</dd>
<dt>ARecord</dt>
<dd>the record (of type T) to <a class="normal" href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#Deserialize">deserialize</a>.</dd>
<dt>AData</dt>
<dd>the byte array containing the serialized record.</dd>
</dl>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="visibility"><a  href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><a name="Deserialize"></a><code>class procedure <b>Deserialize</b>(const ARecordType: Pointer; out ARecord; const AData: TBytes); overload; static;</code></td>
</tr>
<tr><td colspan="2">
<p>
Deserializes a record from an array of bytes. When the record contains a parameterless <code>Initialize</code> procedure, then that procedure will be called before the record is deserialized.

<p>  </p>
<h6 class="description_section">Parameters</h6>
<dl class="parameters">
<dt>ARecordType</dt>
<dd>the type of the record to <a class="normal" href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#Deserialize">deserialize</a>. This is the result from a TypeInfo(TMyRecord) call.</dd>
<dt>ARecord</dt>
<dd>the record (of ARecordType) to <a class="normal" href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#Deserialize">deserialize</a>.</dd>
<dt>AData</dt>
<dd>the byte array containing the serialized record.</dd>
</dl>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="visibility"><a  href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><a name="Deserialize"></a><code>class procedure <b>Deserialize</b>&lt;T: record&gt;(out ARecord: T; const ABuffer: Pointer; const ABufferSize: Integer); overload; static; inline;</code></td>
</tr>
<tr><td colspan="2">
<p>
Deserializes a record from a memory buffer. When the record contains a parameterless <code>Initialize</code> procedure, then that procedure will be called before the record is deserialized.

<p>   </p>
<h6 class="description_section">Parameters</h6>
<dl class="parameters">
<dt>T</dt>
<dd>the type of the record to <a class="normal" href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#Deserialize">deserialize</a>.</dd>
<dt>ARecord</dt>
<dd>the record (of type T) to <a class="normal" href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#Deserialize">deserialize</a>.</dd>
<dt>ABuffer</dt>
<dd>the memory buffer containing the serialized record.</dd>
<dt>ABufferSize</dt>
<dd>the size of the buffer</dd>
</dl>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="visibility"><a  href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><a name="Deserialize"></a><code>class procedure <b>Deserialize</b>(const ARecordType: Pointer; out ARecord; const ABuffer: Pointer; const ABufferSize: Integer); overload; static;</code></td>
</tr>
<tr><td colspan="2">
<p>
Deserializes a record from a stream. When the record contains a parameterless <code>Initialize</code> procedure, then that procedure will be called before the record is deserialized.

<p>    </p>
<h6 class="description_section">Parameters</h6>
<dl class="parameters">
<dt>T</dt>
<dd>the type of the record to <a class="normal" href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#Deserialize">deserialize</a>.</dd>
<dt>ARecordType</dt>
<dd>the type of the record to <a class="normal" href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#Deserialize">deserialize</a>. This is the result from a TypeInfo(TMyRecord) call.</dd>
<dt>ARecord</dt>
<dd>the record (of ARecordType) to <a class="normal" href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#Deserialize">deserialize</a>.</dd>
<dt>ABuffer</dt>
<dd>the memory buffer containing the serialized record.</dd>
<dt>ABufferSize</dt>
<dd>the size of the buffer</dd>
</dl>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="visibility"><a  href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><a name="Deserialize"></a><code>class procedure <b>Deserialize</b>&lt;T: record&gt;(out ARecord: T; const AFilename: String); overload; static; inline;</code></td>
</tr>
<tr><td colspan="2">
<p>
Deserializes a record from a file. When the record contains a parameterless <code>Initialize</code> procedure, then that procedure will be called before the record is deserialized.

<p>  </p>
<h6 class="description_section">Parameters</h6>
<dl class="parameters">
<dt>T</dt>
<dd>the type of the record to <a class="normal" href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#Deserialize">deserialize</a>.</dd>
<dt>ARecord</dt>
<dd>the record (of type T) to <a class="normal" href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#Deserialize">deserialize</a>.</dd>
<dt>AFilename</dt>
<dd>the name of the file containing the serialized record.</dd>
</dl>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="visibility"><a  href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><a name="Deserialize"></a><code>class procedure <b>Deserialize</b>(const ARecordType: Pointer; out ARecord; const AFilename: String); overload; static;</code></td>
</tr>
<tr><td colspan="2">
<p>
Deserializes a record from a file. When the record contains a parameterless <code>Initialize</code> procedure, then that procedure will be called before the record is deserialized.

<p>  </p>
<h6 class="description_section">Parameters</h6>
<dl class="parameters">
<dt>ARecordType</dt>
<dd>the type of the record to <a class="normal" href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#Deserialize">deserialize</a>. This is the result from a TypeInfo(TMyRecord) call.</dd>
<dt>ARecord</dt>
<dd>the record (of ARecordType) to <a class="normal" href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#Deserialize">deserialize</a>.</dd>
<dt>AFilename</dt>
<dd>the name of the file containing the serialized record.</dd>
</dl>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="visibility"><a  href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><a name="Deserialize"></a><code>class procedure <b>Deserialize</b>&lt;T: record&gt;(out ARecord: T; const AStream: TStream); overload; static; inline;</code></td>
</tr>
<tr><td colspan="2">
<p>
Deserializes a record from a stream. When the record contains a parameterless <code>Initialize</code> procedure, then that procedure will be called before the record is deserialized.

<p>  </p>
<h6 class="description_section">Parameters</h6>
<dl class="parameters">
<dt>T</dt>
<dd>the type of the record to <a class="normal" href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#Deserialize">deserialize</a>.</dd>
<dt>ARecord</dt>
<dd>the record (of type T) to <a class="normal" href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#Deserialize">deserialize</a>.</dd>
<dt>AStream</dt>
<dd>the stream containing the serialized record.</dd>
</dl>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="visibility"><a  href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><a name="Deserialize"></a><code>class procedure <b>Deserialize</b>(const ARecordType: Pointer; out ARecord; const AStream: TStream); overload; static;</code></td>
</tr>
<tr><td colspan="2">
<p>
Deserializes a record from a stream. When the record contains a parameterless <code>Initialize</code> procedure, then that procedure will be called before the record is deserialized.

<p>   </p>
<h6 class="description_section">Parameters</h6>
<dl class="parameters">
<dt>T</dt>
<dd>the type of the record to <code>deserialize</code>.</dd>
<dt>ARecordType</dt>
<dd>the type of the record to <code>deserialize</code>. This is the result from a TypeInfo(TMyRecord) call.</dd>
<dt>ARecord</dt>
<dd>the record (of ARecordType) to <code>deserialize</code>.</dd>
<dt>AStream</dt>
<dd>the stream containing the serialized record.</dd>
</dl>
</td></tr>
</table>
<table class="detail wide_list">
<tr class="list">
<td class="visibility"><a  href="legend.html"><img  src="public.gif" alt="Public" title="Public"></a></td>
<td class="itemcode"><a name="Register"></a><code>class procedure <b>Register</b>(const ARecordType: Pointer; const ARecord; const AInitializeProc: <a  href="Grijjy.ProtocolBuffers.TgoProtocolBuffer.html#TInitializeProc">TInitializeProc</a>; const AFields: array of const); static;</code></td>
</tr>
<tr><td colspan="2">
<p>
Registers a record for serialization in Protocol Buffer format. This is only needed for use with Free Pascal. When using Delphi, the record type is automatically registered when it is first (de)serialized.

<p>You can also use this method to <code>register</code> 3rd party or RTL record types.

<p>Every record type you want to use for serialization must be registered once and only once. You usually do this at application startup. If a record has fields of other record types, then those other record types must be registered as well.

<p>To <code>register</code> a record, you must declare a dummy variable of the record type and then call this method as in the following example:

<p></p>

<pre class="longcode">
      <span class="pascal_keyword">var</span>
        P: TPerson; <span class="pascal_comment">// Dummy variable</span>
      <span class="pascal_keyword">begin</span>
        TgoProtocolBuffer.<span class="pascal_keyword">Register</span>(TypeInfo(TPerson), P, @TPerson.Initialize,
          [@P.<span class="pascal_keyword">Name</span>, <span class="pascal_numeric">1</span>, @P.Id, <span class="pascal_numeric">2</span>, @P.Email, <span class="pascal_numeric">3</span>, @P.Phone, <span class="pascal_numeric">4</span>]);
      <span class="pascal_keyword">end</span>;</pre>

<p>

<p>The parameters are the <code>TypeInfo(..)</code> of the record type, the dummy variable, the optional address of an Initialize method and an array of tags and field addresses.

<p>The dummy variable is just used as a helper to pass the field addresses. You don't need to initialize this variable with any data.

<p>Before a record of this type is deserialized, its fields are always cleared (set to 0 or nil). You can perform additional initialization after this by specifying an Initialize method. If set, that method will be called after clearing all fields, but before deserializing. Pass nil to clear the record only.

<p>The final parameter is an array of tags and field addresses. Each tag uniquely identifies the corresponding field. Tags must be in the range 1-536870911. Tags must be unique within the record and each tag must have a corresponding field address. If the number of tags doesn't match the number of addresses, or if there are any other invalid parameters, then an exception is raised.

<p>You can pass the tags and field addresses in any way you want, as long as you pass the tags in the same order as the corresponding field addresses. You can use the (Field, Tag)* order as in the example above, or the opposite (Tag, Field)* order as in this example:

<p></p>

<pre class="longcode">[<span class="pascal_numeric">1</span>, @P.<span class="pascal_keyword">Name</span>, <span class="pascal_numeric">2</span>, @P.Id, <span class="pascal_numeric">3</span>, @P.Email, <span class="pascal_numeric">4</span>, @P.Phone]</pre>

<p>

<p>You can also specify all fields first, followed by all tags, or the other way around:

<p></p>

<pre class="longcode">[@P.<span class="pascal_keyword">Name</span>, @P.Id, @P.Email, @P.Phone, <span class="pascal_numeric">1</span>, <span class="pascal_numeric">2</span>, <span class="pascal_numeric">3</span>, <span class="pascal_numeric">4</span>]</pre>

<p>

<p>Or any other combination that makes sense in the declaration:

<p></p>

<pre class="longcode">
      [@P.<span class="pascal_keyword">Name</span>,  @P.Id,
       <span class="pascal_numeric">1</span>      ,  <span class="pascal_numeric">2</span>,
       @P.Email, @P.Phone,
       <span class="pascal_numeric">3</span>       , <span class="pascal_numeric">4</span>]</pre>

<p>

<p>Just remember that the order of the tags must match the order of the fields.

<p>   </p>
<h6 class="description_section">Parameters</h6>
<dl class="parameters">
<dt>ARecordType</dt>
<dd>the type of the record to <code>register</code>. This is the result from a TypeInfo(TMyRecord) call.</dd>
<dt>ARecord</dt>
<dd>a dummy instance of the record type to <code>register</code> (of type ARecordType).</dd>
<dt>AInitializeProc</dt>
<dd>the record method to call to initialize the record with its default values.</dd>
<dt>AFields</dt>
<dd>an array of tags and record field addresses. See the documentation above for more information.</dd>
</dl>
</td></tr>
</table>
<div style="height:1000px"></div><hr noshade size="1"><span class="appinfo"><em>Generated by <a  href="http://pasdoc.sourceforge.net/">P2PasDoc 0.13.0</a> on 2017-04-25 12:54:26</em>
</span>
</td></tr></table></body></html>
